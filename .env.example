# ============================================================================
# MEME COIN RADAR - ENVIRONMENT CONFIGURATION
# ============================================================================
# This file contains all environment variables used across the Meme Coin Radar
# stack. Copy this file to .env and configure the values for your environment.
# 
# SECURITY WARNING: Never commit .env files to version control!
# ============================================================================

# ============================================================================
# CORE SYSTEM SETTINGS
# ============================================================================

# Application Environment
# Values: development, staging, production
# Default: development
NODE_ENV=development

# Server Configuration
PORT=3001
HOST=0.0.0.0

# Logging Configuration
# Values: error, warn, info, debug, trace
LOG_LEVEL=info
ENABLE_STRUCTURED_LOGS=true
ENABLE_METRICS=true
LOG_FILE_PATH=./logs/app.log
MAX_LOG_FILE_SIZE=10MB
MAX_LOG_FILES=5

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# RADAR_ONLY Mode
# When enabled, restricts the application to core radar functionality only
# Disables advanced trading features, portfolio simulation, and wallet integrations
# Values: true, false
# Default: false
RADAR_ONLY=false

# ============================================================================
# DATABASE & CACHING
# ============================================================================

# Redis Configuration (Primary Cache)
# SAFETY: Use Redis for production, SQLite for development
REDIS_URL=redis://localhost:6379
ENABLE_REDIS=true
REDIS_PASSWORD=
REDIS_DB=0
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000

# Cache Settings
CACHE_TTL_SECONDS=300
CACHE_MAX_KEYS=10000
ENABLE_CACHE_COMPRESSION=true

# SQLite Fallback (Development Only)
# SAFETY: Only used when Redis is unavailable
SQLITE_DB_PATH=./data/cache.db
ENABLE_SQLITE_FALLBACK=true

# ============================================================================
# RATE LIMITING CONFIGURATION
# ============================================================================

# API Provider Rate Limits (Requests Per Minute)
# SAFETY: Stay well below provider limits to avoid 429 errors

# Birdeye API (Free: 1 RPS = 60 RPM)
# SAFETY: Set to 50 RPM to leave buffer for bursts
BIRDEYE_RATE_LIMIT_RPM=50
BIRDEYE_API_KEY=
BIRDEYE_BASE_URL=https://public-api.birdeye.so

# GoPlus Security API (Free: ~30 RPM)
# SAFETY: Conservative limit to avoid blocking
GOPLUS_RATE_LIMIT_RPM=25
GOPLUS_API_KEY=
GOPLUS_BASE_URL=https://api.gopluslabs.io

# DEX Screener API (Generous: 300 RPM)
# SAFETY: Can be more aggressive but still conservative
DEXSCREENER_RATE_LIMIT_RPM=250
DEXSCREENER_BASE_URL=https://api.dexscreener.com

# GeckoTerminal API (Free: ~120 RPM)
# SAFETY: Conservative limit for stability
GECKOTERMINAL_RATE_LIMIT_RPM=100
GECKOTERMINAL_BASE_URL=https://api.geckoterminal.com

# Internal API Rate Limiting
API_RATE_LIMIT_RPM=1000
API_RATE_LIMIT_BURST=50

# Circuit Breaker Settings
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT_MS=60000
CIRCUIT_BREAKER_RESET_TIMEOUT_MS=30000

# ============================================================================
# BLOCKCHAIN & CHAIN CONFIGURATION
# ============================================================================

# Supported Chains
# SAFETY: Only enable chains you want to monitor
ENABLED_CHAINS=sol,eth,bsc,base
DEFAULT_CHAIN=sol

# Chain-Specific Settings
SOL_RPC_URL=https://api.mainnet-beta.solana.com
ETH_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_KEY
BSC_RPC_URL=https://bsc-dataseed.binance.org
BASE_RPC_URL=https://mainnet.base.org

# Chain Refresh Intervals (milliseconds)
SOL_REFRESH_MS=30000
ETH_REFRESH_MS=45000
BSC_REFRESH_MS=35000
BASE_REFRESH_MS=40000

# ============================================================================
# TOKEN FILTERING & DETECTION
# ============================================================================

# Core Filtering Thresholds
# SAFETY: Conservative defaults to reduce noise
MIN_LIQUIDITY_USD=12000
MAX_TOKEN_AGE_HOURS=48
MIN_VOLUME_5M_USD=1000
MIN_VOLUME_15M_USD=2500
MIN_VOLUME_1H_USD=5000

# Tax Limits (Percentage)
# SAFETY: Avoid high-tax tokens that may be scams
MAX_BUY_TAX_PERCENT=10
MAX_SELL_TAX_PERCENT=10
MAX_TOTAL_TAX_PERCENT=15

# Market Cap Filters
MIN_MARKET_CAP_USD=50000
MAX_MARKET_CAP_USD=100000000

# Trading Activity Filters
MIN_TRANSACTIONS_5M=10
MIN_UNIQUE_WALLETS_5M=5
MIN_BUY_SELL_RATIO=0.3

# ============================================================================
# SIGNAL DETECTION & SCORING
# ============================================================================

# Base Scoring Weights
LIQUIDITY_WEIGHT=0.25
VOLUME_WEIGHT=0.30
MOMENTUM_WEIGHT=0.20
SECURITY_WEIGHT=0.15
SOCIAL_WEIGHT=0.10

# Signal Thresholds
HOTLIST_MIN_SCORE=80
TRENDING_MIN_SCORE=70
WATCHLIST_MIN_SCORE=60
ALERT_MIN_SCORE=75

# Momentum Detection
PRICE_CHANGE_5M_THRESHOLD=5.0
PRICE_CHANGE_15M_THRESHOLD=10.0
PRICE_CHANGE_1H_THRESHOLD=20.0
VOLUME_SPIKE_THRESHOLD=3.0

# Penalty Settings
HONEYPOT_PENALTY=-50
HIGH_TAX_PENALTY=-20
LOW_LIQUIDITY_PENALTY=-15
BOOST_PENALTY=-3

# ============================================================================
# ALERT SYSTEM CONFIGURATION
# ============================================================================

# Alert Thresholds
# SAFETY: Set higher thresholds for production to reduce noise
ALERT_MIN_LIQUIDITY_USD=20000
ALERT_MIN_VOLUME_USD=5000
ALERT_MAX_AGE_MINUTES=60
ALERT_COOLDOWN_MINUTES=15

# Discord Webhooks
DISCORD_WEBHOOK_URL=
DISCORD_ALERTS_WEBHOOK_URL=
DISCORD_ERRORS_WEBHOOK_URL=
ENABLE_DISCORD_ALERTS=true

# Telegram Configuration
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
TELEGRAM_ALERTS_CHAT_ID=
ENABLE_TELEGRAM_ALERTS=true

# Custom Webhooks
CUSTOM_WEBHOOK_URL=
WEBHOOK_SECRET=
WEBHOOK_TIMEOUT_MS=5000
WEBHOOK_RETRY_ATTEMPTS=3

# Alert Rate Limiting
MAX_ALERTS_PER_MINUTE=10
MAX_ALERTS_PER_HOUR=100
ALERT_QUEUE_SIZE=1000

# ============================================================================
# SECURITY & AUDITING
# ============================================================================

# Security Analysis
ENABLE_SECURITY_CHECKS=true
SECURITY_CHECK_TIMEOUT_MS=10000
SECURITY_CACHE_TTL_SECONDS=3600

# GoPlus Security Checks
CHECK_HONEYPOT=true
CHECK_TRADING_COOLDOWN=true
CHECK_BLACKLIST=true
CHECK_WHITELIST=true
CHECK_OWNER_CHANGE=true
CHECK_HIDDEN_OWNER=true
CHECK_SELFDESTRUCT=true
CHECK_EXTERNAL_CALL=true
CHECK_PROXY_CONTRACT=true

# Risk Scoring
SECURITY_RISK_THRESHOLD=7
HIGH_RISK_PENALTY=-30
MEDIUM_RISK_PENALTY=-15
LOW_RISK_PENALTY=-5

# ============================================================================
# CEX LISTING DETECTION (SENTINEL)
# ============================================================================

# Sentinel Configuration
ENABLE_SENTINEL=true
SENTINEL_REFRESH_MS=120000
SENTINEL_STAGGER_DELAY_MS=5000
SENTINEL_MAX_CONCURRENT=3

# Exchange Monitoring
ENABLED_EXCHANGES=binance,coinbase,kraken,okx,bybit,gate,kucoin
EXCHANGE_REQUEST_DELAY_MS=2000
EXCHANGE_TIMEOUT_MS=15000

# Listing Detection
MIN_LISTING_LIQUIDITY_USD=50000
LISTING_CONFIRMATION_SOURCES=2
ENABLE_ADDRESS_VERIFICATION=true
ENABLE_COINGECKO_VERIFICATION=true

# Sentinel Alerts
ENABLE_LISTING_ALERTS=true
LISTING_ALERT_COOLDOWN_MINUTES=60
LISTING_WEBHOOK_URL=

# ============================================================================
# PERFORMANCE & MONITORING
# ============================================================================

# System Performance
MAX_MEMORY_USAGE_MB=512
ENABLE_MEMORY_MONITORING=true
MEMORY_CHECK_INTERVAL_MS=30000
ENABLE_CPU_MONITORING=true

# Request Timeouts
HTTP_TIMEOUT_MS=10000
WEBSOCKET_TIMEOUT_MS=30000
DATABASE_TIMEOUT_MS=5000

# Concurrency Limits
MAX_CONCURRENT_REQUESTS=10
MAX_CONCURRENT_SECURITY_CHECKS=5
MAX_CONCURRENT_PRICE_FETCHES=8

# Health Monitoring
HEALTH_CHECK_INTERVAL_MS=30000
ENABLE_HEALTH_ENDPOINT=true
HEALTH_CHECK_TIMEOUT_MS=5000

# Metrics Collection
ENABLE_PROMETHEUS_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# ============================================================================
# WEBSOCKET & REAL-TIME FEATURES
# ============================================================================

# WebSocket Server
ENABLE_WEBSOCKET=true
WS_PORT=3002
WS_MAX_CONNECTIONS=1000
WS_HEARTBEAT_INTERVAL_MS=30000
WS_CONNECTION_TIMEOUT_MS=60000

# Real-time Updates
ENABLE_REAL_TIME_UPDATES=true
UPDATE_BROADCAST_INTERVAL_MS=5000
MAX_UPDATES_PER_BROADCAST=50

# Client Management
WS_RATE_LIMIT_MESSAGES_PER_MINUTE=60
WS_MAX_MESSAGE_SIZE_BYTES=1024
ENABLE_WS_COMPRESSION=true

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================

# API Endpoints
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_WS_URL=ws://localhost:3002
NEXT_PUBLIC_APP_NAME=Meme Coin Radar
NEXT_PUBLIC_APP_VERSION=1.0.0

# Feature Flags
NEXT_PUBLIC_ENABLE_ANALYTICS=false
NEXT_PUBLIC_ENABLE_DEBUG=true
NEXT_PUBLIC_ENABLE_NOTIFICATIONS=true
NEXT_PUBLIC_ENABLE_SOUND_ALERTS=true

# UI Configuration
NEXT_PUBLIC_DEFAULT_THEME=dark
NEXT_PUBLIC_REFRESH_INTERVAL_MS=5000
NEXT_PUBLIC_MAX_TOKENS_DISPLAY=100

# ============================================================================
# SECURITY & CORS
# ============================================================================

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_CREDENTIALS=true

# Security Headers
ENABLE_SECURITY_HEADERS=true
ENABLE_RATE_LIMITING=true
ENABLE_REQUEST_VALIDATION=true

# Authentication (Future)
JWT_SECRET=
JWT_EXPIRY=24h
ENABLE_API_KEYS=false

# ============================================================================
# DEVELOPMENT & TESTING
# ============================================================================

# Development Mode
ENABLE_DEV_MODE=false
ENABLE_MOCK_DATA=false
MOCK_DATA_INTERVAL_MS=10000

# Testing Configuration
TEST_DATABASE_URL=sqlite://./test.db
TEST_REDIS_URL=redis://localhost:6380
ENABLE_TEST_ENDPOINTS=false

# Debug Features
ENABLE_REQUEST_LOGGING=true
ENABLE_RESPONSE_LOGGING=false
ENABLE_ERROR_STACK_TRACES=true
DEBUG_RATE_LIMITS=false

# ============================================================================
# OPERATIONAL SETTINGS
# ============================================================================

# Maintenance Mode
ENABLE_MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System under maintenance

# Feature Toggles
ENABLE_NEW_PAIRS_DETECTION=true
ENABLE_PRICE_ALERTS=true
ENABLE_VOLUME_ALERTS=true
ENABLE_LISTING_ALERTS=true

# Cleanup & Maintenance
ENABLE_AUTO_CLEANUP=true
CLEANUP_INTERVAL_HOURS=24
MAX_LOG_AGE_DAYS=7
MAX_CACHE_AGE_HOURS=24

# ============================================================================
# EXTERNAL INTEGRATIONS
# ============================================================================

# Analytics (Optional)
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=
ENABLE_ANALYTICS=false

# Error Tracking (Optional)
SENTRY_DSN=
ENABLE_ERROR_TRACKING=false

# Monitoring (Optional)
DATADOG_API_KEY=
NEW_RELIC_LICENSE_KEY=
ENABLE_APM=false

# ============================================================================
# SAFETY NOTES & WARNINGS
# ============================================================================
# 
# 1. RATE LIMITS: Always stay below API provider limits to avoid blocking
# 2. SECURITY: Never commit API keys or secrets to version control
# 3. MEMORY: Monitor memory usage in production, especially with Redis
# 4. ALERTS: Set conservative thresholds to avoid spam
# 5. CHAINS: Only enable chains you actively want to monitor
# 6. TESTING: Use separate environments for development and production
# 7. BACKUPS: Regularly backup your configuration and data
# 8. MONITORING: Enable health checks and monitoring in production
# 9. UPDATES: Keep API keys and endpoints up to date
# 10. COMPLIANCE: Ensure your usage complies with all API terms of service
#
# ============================================================================